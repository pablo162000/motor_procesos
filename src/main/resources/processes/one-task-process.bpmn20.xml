<?xml version="1.0" encoding="UTF-8"?>
<definitions
        xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
        xmlns:flowable="http://flowable.org/bpmn"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"

        targetNamespace="Examples">

    <process id="procesoTesis" name="Ingreso propuesta tesis">
        <startEvent id="theStart" />
        <sequenceFlow id="flow1" sourceRef="theStart" targetRef="validacionTema" />
        <userTask id="validacionTema" name="Validación Tema" flowable:assignee="${idDireccion}" />

        <sequenceFlow id="flow2" sourceRef="validacionTema" targetRef="decisionValidacion" />

        <exclusiveGateway id="decisionValidacion" name="¿Tema validado?" />

        <!-- Flujo si fue aprobado -->
        <sequenceFlow id="flowAprobado" sourceRef="decisionValidacion" targetRef="designarRevisores">
            <conditionExpression xsi:type="tFormalExpression">${validacionAprobada == true}</conditionExpression>
        </sequenceFlow>


        <userTask id="designarRevisores" name="Registrar aprobación" flowable:assignee="${idSecretaria}" />

        <sequenceFlow id="flowFinAprobado" sourceRef="designarRevisores" targetRef="theEnd" />

        <sequenceFlow id="flowRechazado" sourceRef="decisionValidacion" targetRef="theEnd">
            <conditionExpression xsi:type="tFormalExpression">${validacionAprobada == false}</conditionExpression>
        </sequenceFlow>


        <endEvent id="theEnd" />
    </process>

</definitions>